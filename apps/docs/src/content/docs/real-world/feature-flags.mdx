---
title: Feature Flags
description: Environment-specific feature toggles and configuration management with JSSON conditional logic.
---

import { Code, Tabs, TabItem } from "@astrojs/starlight/components";

Manage feature flags and service configurations across dev/staging/prod environments with conditional logic.

## The Problem

Managing configs across environments means:

- **Separate files** â€” One config file per environment
- **Duplication** â€” Same structure repeated 3+ times
- **Sync issues** â€” Easy to miss updates in some environments

## The JSSON Solution

<Tabs>
  <TabItem label="JSSON">
    <Code
      lang="jsson"
      code={`featureFlags [
  template { feature, env, enabled }
  
  map (flag) = {
    name = flag.feature
    environment = flag.env
    enabled = flag.enabled
    key = flag.feature + "_" + flag.env
    rolloutPercentage = flag.enabled == true ? 100 : 0
    rolloutStrategy = "gradual"
  }
  
  // New features - off in prod
  "new-dashboard", "prod", false
  "new-dashboard", "staging", true
  "new-dashboard", "dev", true
  
  // Stable features - on everywhere
  "dark-mode", "prod", true
  "dark-mode", "staging", true
  "dark-mode", "dev", true
]`}
    />
  </TabItem>
  <TabItem label="JSON Output">
    <Code
      lang="json"
      code={`{
  "featureFlags": [
    {
      "name": "new-dashboard",
      "environment": "prod",
      "enabled": false,
      "key": "new-dashboard_prod",
      "rolloutPercentage": 0,
      "rolloutStrategy": "gradual"
    },
    {
      "name": "new-dashboard",
      "environment": "staging",
      "enabled": true,
      "key": "new-dashboard_staging",
      "rolloutPercentage": 100,
      "rolloutStrategy": "gradual"
    }
    // ... more flags
  ]
}`}
    />
  </TabItem>
</Tabs>

## Service Configuration

<Code
  lang="jsson"
  code={`serviceConfig [
  template { service, env }
  
  map (cfg) = {
    serviceName = cfg.service
    environment = cfg.env
    
    // Database
    databaseHost = "db-" + cfg.env + ".internal"
    maxConnections = cfg.env == "prod" ? 100 : 20
    sslEnabled = cfg.env == "prod" ? true : false
    
    // Cache
    cacheHost = "redis-" + cfg.env + ".internal"
    cacheTTL = cfg.env == "prod" ? 3600 : 300
    
    // Logging
    logLevel = cfg.env == "prod" ? "error" : "debug"
  }
  
  "api", "prod"
  "api", "staging"
  "api", "dev"
]`}
/>

## Benefits

**Single source** â€” One file for all environments  
**Conditional logic** â€” Different values per environment  
**Easy toggles** â€” Change `true` to `false`  
**Consistency** â€” Same structure everywhere

## When to Use

**Perfect for:**

- Feature flag management
- Environment-specific configs
- A/B testing setups
- Rollout strategies

## Try It!

1. Save to `feature-flags.jsson`
2. Run: `jsson -i feature-flags.jsson`
3. Manage your features!

## What's Next?

- **[Kubernetes](/real-world/kubernetes/)** â€” Multi-env deployments
- **[Overview](/real-world/overview/)** â€” All examples

Toggle features with confidence! ðŸš€
