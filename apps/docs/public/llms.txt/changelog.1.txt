# JSSON Documentation â€” LLM Mode
Source: changelog.mdx
Version: 0.0.5.2
Generated: 2025-12-02T22:05:17.730Z

## Table of Contents
- 0.1. v0.0.5.2 â€” Variable Arithmetic Fix (2025-12-02)
- 0.1.1. Bug Fixes
- 0.1.2. New Features
- 1. ENABLE STREAMING MODE
- 2. AUTO-ENABLE FOR RANGES > N ITEMS (DEFAULT: 10,000)
- 2.0.1. Other Improvements
â€¢ Added 40+ edge case tests to improve robustness
â€¢ Created comprehensive test suite for variable arithmetic
â€¢ Updated WASM binary with all fixes
- 2.1. v0.0.5.1 â€” Parser Bug Fixes (2025-11-29)
- 2.1.1. Bug Fixes
- 2.1.2. Examples
- 2.2. v0.0.5 â€” Nested Logic Power-Up (2025-11-28)
- 2.2.1. New Features
- 0..9999
- 2.2.2. Stability & Internal Improvements
â€¢ Better handling of RangeResult values during deep transformations
â€¢ More reliable evaluation order for nested arrays and nested maps
â€¢ Improved safety checks to prevent unexpected binary operations on non-scalar values
â€¢ Cleaner error messages that explain exactly where an invalid operation was attempted
â€¢ Internal prep for future collection operators and functional features
- 2.2.3. Summary
- 2.3. v0.0.4 â€” Universal Meta-Format (2025-11-26)
- 2.3.1. New Features
- 2.3.2. CLI Updates
â€¢ Added -f / --format flag to specify output format.
â€¢ Improved error messages for invalid formats.
- 2.3.3. Website & Playground
â€¢ New Playground: Now supports tabs for JSON, YAML, TOML, and TypeScript outputs.
â€¢ Privacy & Terms: Added legal pages to ensure transparency.
â€¢ Landing Page: Updated to reflect JSSON's new universal capabilities.
- 2.4. v0.0.3.1 2025-11-25
- 2.4.1. Bug Fixes
â€¢ Fixed support negative numbers in expressions.
â€¢ Added unary minus operator support for negative numbers.
- 2.5. v0.0.3 â€” Arrays in Objects & Real-World Examples (2025-11-25)
- 2.5.1. New Features
- 2.5.2. Real-World Examples
- 1. Geographic Data â€” Generate millions of coordinate records
- 2. Kubernetes Configuration â€” Multi-environment deployments
- 3. API Gateway â€” Microservices routing with rate limiting
- 4. i18n Translations â€” Multi-language translation management
- 5. Feature Flags â€” Environment-specific configuration
- 6. Database Seeding â€” Relational data with foreign keys
- 2.5.3. Parser Improvements
â€¢ Enhanced parseObjectLiteral to support array literals as property values
â€¢ Better error messages for syntax issues
â€¢ Improved handling of nested structures
- 2.5.4. Documentation
â€¢ New "Real-World Use Cases" section in docs
â€¢ Overview page explaining production scenarios
â€¢ Individual pages for each example with detailed explanations
â€¢ Updated SEO keywords for better discoverability
- 2.5.5. Bug Fixes
â€¢ Fixed parsing of complex nested objects with arrays
â€¢ Improved transpiler handling of mixed data structures
- 2.5.6. Performance
- 2.6. v0.0.2 â€” Arithmetic & Conditional Logic (2025-11-24)
- 2.6.1. Features
â€¢ Arithmetic operators: +, -, *, /, %
â€¢ Comparison operators: ==, !=, >, <, >=, <=
â€¢ Ternary operator: condition ? true : false
â€¢ Map transformations with conditional logic
â€¢ String concatenation in expressions
- 2.6.2. Examples
- 2.7. v0.0.1 â€” Initial Release (2025-11-23)
- 2.7.1. Features
â€¢ Core parser for JSSON syntax
â€¢ Template arrays for structured data
â€¢ Range expressions (1..100)
â€¢ Include statements for file composition
â€¢ CLI tool for transpilation
â€¢ Basic data types: strings, numbers, booleans, objects, arrays
- 2.7.2. Examples
- 2.8. What's Next?

## Content

0.1. v0.0.5.2 â€” Variable Arithmetic Fix (2025-12-02)

0.1.1. Bug Fixes

#### Variable Arithmetic Operations ðŸ”§

Fixed a critical bug where arithmetic operations using variables would fail with "unsupported binary operation" errors. Previously, assignment statements (price = 100) were not stored in the symbol table, causing subsequent references to be treated as undefined identifiers instead of their numeric values.

Before (broken):

``jsson
price = 100
tax = 15
total = price + tax  // âŒ Error: unsupported binary operation
`

After (fixed):

`jsson
price = 100
tax = 15
total = price + tax  // âœ… Works! total = 115

discount = 20
final = total - discount  // âœ… final = 95
`

Technical Details:
â€¢ Modified Transpiler.Transpile() to store assignment values in both the symbol table and output
â€¢ File: internal/transpiler/transpiler.go (line 75)
â€¢ Now assignments can be referenced in subsequent expressions

Examples:

`jsson
// Chained calculations
quantity = 5
itemPrice = 10
subtotal = quantity  itemPrice  // 50

// Mixed operations
base = 100
withTax = base + 15      // 115
withDiscount = withTax - 10  // 105
doubled = withDiscount  2   // 210
`

0.1.2. New Features

#### Compilation Timer â±ï¸

Added compilation time measurement to both CLI and playground for performance visibility.

CLI:

`bash
$ jsson -i config.jsson > output.json
âœ“ Compiled in 552.6Âµs
`
â€¢ Auto-formats time units: Âµs, ms, or s
â€¢ Printed to stderr (doesn't interfere with output redirection)
â€¢ Helps identify performance bottlenecks

Playground:
â€¢ Real-time performance feedback in output footer
â€¢ Auto-formatted display (Âµs/ms/s)
â€¢ Green checkmark indicator

#### Streaming Support for Large Datasets ðŸš€

Added streaming infrastructure for efficient handling of large data volumes.

CLI Flags:

`bash

1. ENABLE STREAMING MODE
---------------------
jsson -i large-data.jsson --stream


2. AUTO-ENABLE FOR RANGES > N ITEMS (DEFAULT: 10,000)
--------------------------------------------------
jsson -i data.jsson --stream-threshold 5000
`

Features:
â€¢ Memory reduction: ~500MB â†’ < 50MB for 100k items
â€¢ Lazy evaluation with RangeIterator
â€¢ Automatic threshold detection

2.0.1. Other Improvements
â€¢ Added 40+ edge case tests to improve robustness
â€¢ Created comprehensive test suite for variable arithmetic
â€¢ Updated WASM binary with all fixes

---

2.1. v0.0.5.1 â€” Parser Bug Fixes (2025-11-29)

2.1.1. Bug Fixes

#### Nested Ternary Operators

Fixed parsing of chained ternary expressions. Previously, expressions like 5 > 3 ? 10 > 8 ? "yes" : "maybe" : "no" would fail with a parser error. Now they work correctly with proper right-associativity.

Technical Details:
â€¢ Changed precedence to TERNARY - 1 for both consequence and alternative branches in parseConditionalExpression
â€¢ File: internal/parser/parser.go

#### Negative Number Ranges

Fixed support for ranges starting with negative numbers. Previously, -5..5 would fail. Now it works correctly.

Technical Details:
â€¢ Modified parsePrefixExpression to create negative IntegerLiteral and FloatLiteral directly instead of BinaryExpression(0 - value)
â€¢ File: internal/parser/parser.go

#### Range-Map Expressions

Fixed parsing of map expressions applied to ranges. Previously, 1..3 map (x) = x  2 required parentheses: (1..3) map (x) = x  2. Now it works without parentheses.

Technical Details:
â€¢ Reorganized operator precedence: CALL < RANGE < MAP < INDEX
â€¢ Changed parseRangeExpression to use MAP precedence for end value parsing
â€¢ File: internal/parser/parser.go

Note: Arithmetic in range end values requires parentheses for clarity: i..(i+2) âœ…, not i..i+2 âŒ (ambiguous)

#### Array Templates with Map in Objects

Fixed support for array templates with map clauses when used as object properties. Previously, this would fail:

`jsson
templates {
  withMap [
    template { id, value }
    map (item) = { id = item.id  10 }
    1, "test"
  ]
}
``

Technical Details:
â€¢ Changed parseObjectLiteral to call parseArrayTemplate() directly instead of parseArrayLiteral()
â€¢ File: internal/parser/parser.go

#### Error Line Number Reporting

Fixed error messages to show the correct line number instead of always showing line:1:1. Now errors accurately point to the exact line and column where the problem occurred.

Technical Details:
â€¢ Added missing AST node types to error reporting switch cases: MapExpression, ConditionalExpression, InterpolatedString, BooleanLiteral
â€¢ File: internal/transpiler/transpiler.go

2.1.2. Examples

`jsson
// Nested ternaries
status = age > 18 ? score > 80 ? "excellent" : "good" : "minor"

// Negative ranges
temperatures = -10..10

// Range-map without parentheses
doubled = 1..5 map (x) = x  2

// Templates with map in objects
config {
  users [
    template { id, name }
    map (u) = { id = u.id  100, name = u.name }
    1, "Alice"
    2, "Bob"
  ]
}
`

---

2.2. v0.0.5 â€” Nested Logic Power-Up (2025-11-28)

2.2.1. New Features

#### Nested map() Support ðŸ”„

JSSON now allows map() transformations inside other map() transformations.
This enables multi-level pipelines, matrix-like generation, combinatorial data creation, and far more expressive logic.

Example:

`jsson
nested = (0..2 map (g) = (5..6 map (x) = g + x))
`

#### Full Support for Nested Arrays ðŸ“¦

Nested arrays now work everywhere:
â€¢ Inside templates
â€¢ Inside map clauses
â€¢ As direct literal values
â€¢ As intermediate evaluated expressions

JSSON automatically expands, flattens, or structures arrays as needed without losing context.

#### Universal Range Expressions ðŸ”¢

Ranges (0..N) now work in all places where expressions are allowed:
â€¢ Inside arrays
â€¢ Inside map arguments
â€¢ Inside templates
â€¢ Nested within other ranges
â€¢ Used as part of deeper transformations

This makes large-scale data generation extremely simple:

`jsson
0..9999
`

#### Variable Declarations (:=) ðŸ“¦

Declare variables for reuse and cleaner configuration. Variables are scoped and support shadowing.

`jsson
host := "localhost"
port := 8080
url = host + ":" + port
`

#### Arithmetic Improvements (Division & Modulo) âž—

Arithmetic is now fully stable for / and %.

Modulo (%) and division (/) now work inside map logic, expressions, and nested operations.

Example:

`jsson
hash = "uid-" + (u.id  91 % 17)
`

Invalid operations (like applying modulo directly to an entire range literal) now produce clear semantic errors instead of causing crashes.

2.2.2. Stability & Internal Improvements
â€¢ Better handling of RangeResult values during deep transformations
â€¢ More reliable evaluation order for nested arrays and nested maps
â€¢ Improved safety checks to prevent unexpected binary operations on non-scalar values
â€¢ Cleaner error messages that explain exactly where an invalid operation was attempted
â€¢ Internal prep for future collection