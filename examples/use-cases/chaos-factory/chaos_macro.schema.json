{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Chaos Factory Macro Schema",
  "description": "Schema for Chaos Factory macro configurations - Example use case for JSSON",
  "type": "object",
  "properties": {
    "config": {
      "type": "object",
      "properties": {
        "version": { "type": "string" },
        "author": { "type": "string" },
        "defaultCooldown": { "type": "integer", "minimum": 0 },
        "safeMode": { "type": "boolean" }
      }
    },
    "macros": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "pattern": "^[a-zA-Z][a-zA-Z0-9_]*$" },
          "name": { "type": "string" },
          "description": { "type": "string" },
          "enabled": { "type": "boolean" },
          "trigger": {
            "type": "object",
            "properties": {
              "type": { "type": "string", "enum": ["key", "mouse", "gamepad"] },
              "key": { "type": "string" },
              "modifiers": { "type": "array", "items": { "type": "string" } },
              "mode": { "type": "string", "enum": ["press", "release", "hold", "toggle"] }
            },
            "required": ["type"]
          },
          "actions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": { "type": "string" },
                "target": { "type": "string" },
                "duration": { "type": "integer" },
                "delay": { "type": "integer" }
              },
              "required": ["type"]
            }
          },
          "cooldown": {
            "type": "object",
            "properties": {
              "duration": { "type": "integer" },
              "shared": { "type": "boolean" },
              "group": { "type": "string" }
            }
          },
          "tags": { "type": "array", "items": { "type": "string" } }
        },
        "required": ["id", "name", "trigger", "actions"]
      }
    }
  },
  "required": ["macros"]
}
